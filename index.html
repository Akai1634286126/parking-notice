<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ä¸´æ—¶åœè½¦è”ç³»</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
    color: #fff;
    text-align: center;
    height: 100vh;
    overflow: hidden;
    background: linear-gradient(-45deg, #1a2a6c, #b21f1f, #fdbb2d, #283e51);
    background-size: 400% 400%;
    animation: gradient 10s ease infinite;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
@keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
.container {
    background: rgba(0, 0, 0, 0.6);
    border-radius: 16px;
    padding: 30px;
    max-width: 480px;
    width: 90%;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
    animation: fadeIn 1s ease-out;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
h1 { font-size: 26px; margin-bottom: 10px; }
.notice { color: #ddd; margin: 15px 0; line-height: 1.6; font-size: 17px; }
.contact-info {
    background: rgba(255, 255, 255, 0.08);
    border-radius: 12px;
    padding: 15px;
    text-align: left;
    margin-top: 20px;
}
.contact-item {
    margin: 10px 0;
    display: flex;
    justify-content: space-between;
    font-size: 16px;
}
.contact-label { color: #aaa; }
.contact-value { color: #fff; font-weight: 600; }
.btn {
    margin-top: 25px;
    background: linear-gradient(135deg, #4a90e2, #357abd);
    color: white;
    padding: 12px 24px;
    border-radius: 50px;
    font-size: 18px;
    font-weight: 600;
    text-decoration: none;
    box-shadow: 0 4px 15px rgba(74, 144, 226, 0.4);
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
}
.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(74, 144, 226, 0.6);
}
#gameCanvas {
    display: none;
    background: #000;
    border-radius: 12px;
    margin-top: 10px;
}
#gameOver {
    display: none;
    background: rgba(0,0,0,0.7);
    padding: 20px;
    border-radius: 12px;
    margin-top: 20px;
}
#gameHint {
    display: none;
    font-size: 14px;
    color: #ccc;
    margin-top: 10px;
}
.footer {
    margin-top: 20px;
    color: #888;
    font-size: 14px;
}
#musicToggle {
    position: fixed;
    top: 15px;
    right: 15px;
    font-size: 24px;
    background: rgba(255,255,255,0.2);
    padding: 10px 12px;
    border-radius: 50%;
    cursor: pointer;
    user-select: none;
    transition: all 0.3s ease;
}
#musicToggle:hover { background: rgba(255,255,255,0.35); }
</style>
</head>
<body>
<div id="musicToggle">ğŸ”Š</div>
<audio id="bgMusic" loop preload="auto">
  <source src="https://cdn.pixabay.com/audio/2022/10/25/audio_3232c0dd08.mp3" type="audio/mpeg">
</audio>

<div class="container" id="infoBox">
    <div style="font-size:40px;">ğŸš—</div>
    <h1>ä¸´æ—¶åœè½¦é€šçŸ¥</h1>
    <p class="notice">ä¸´æ—¶åœè½¦ï¼Œæ·±è¡¨æ­‰æ„ï¼å¦‚éœ€æŒªè½¦ï¼Œè¯·è”ç³»ï¼š</p>

    <div class="contact-info">
        <div class="contact-item"><span class="contact-label">å§“åï¼š</span><span class="contact-value">ç‹å…ˆç”Ÿ</span></div>
        <div class="contact-item"><span class="contact-label">ç”µè¯ï¼š</span><span class="contact-value">18612594307</span></div>
        <div class="contact-item"><span class="contact-label">å¾®ä¿¡ï¼š</span><span class="contact-value">å¾®ä¿¡åŒå·</span></div>
        <div class="contact-item"><span class="contact-label">è½¦è¾†ï¼š</span><span class="contact-value">æ™‹BÂ·LL931 é»‘è‰²å“ˆå¼—H6</span></div>
    </div>

    <a href="tel:18612594307" class="btn">ğŸ“ æ‹¨æ‰“ç”µè¯</a>
    <button class="btn" id="playBtn">ğŸ æ‰“å‘æ—¶é—´å°æ¸¸æˆ</button>

    <div class="footer">æ„Ÿè°¢æ‚¨çš„ç†è§£ä¸é…åˆ</div>
</div>

<p id="gameHint">æ“ä½œæç¤ºï¼šé”®ç›˜æ–¹å‘é”® æˆ– å±å¹•æ»‘åŠ¨ æ§åˆ¶ç§»åŠ¨ ğŸ</p>
<canvas id="gameCanvas" width="320" height="480"></canvas>

<div id="gameOver">
    <h2>æ¸¸æˆç»“æŸ ğŸ®</h2>
    <p id="scoreDisplay"></p>
    <button class="btn" id="retryBtn">å†ç©ä¸€æ¬¡</button>
    <button class="btn" id="backBtn">è¿”å›ä¿¡æ¯é¡µ</button>
</div>

<script>
const bgMusic = document.getElementById('bgMusic');
const musicToggle = document.getElementById('musicToggle');
let musicOn = false;

// å°è¯•é¢„æ’­æ”¾éŸ³ä¹ï¼ˆé™éŸ³ï¼‰
bgMusic.volume = 0;
bgMusic.play().catch(() => {});

// ç­‰å¾…ç”¨æˆ·äº¤äº’åæ¢å¤éŸ³é‡æ’­æ”¾
function enableMusic() {
  if (!musicOn) {
    bgMusic.volume = 0.5;
    bgMusic.play();
    musicOn = true;
  }
}
document.addEventListener('touchstart', enableMusic, { once: true });
document.addEventListener('click', enableMusic, { once: true });

// éŸ³ä¹å¼€å…³
musicToggle.addEventListener('click', () => {
  if (bgMusic.paused) {
    bgMusic.play();
    musicToggle.textContent = 'ğŸ”Š';
  } else {
    bgMusic.pause();
    musicToggle.textContent = 'ğŸ”‡';
  }
});

const infoBox = document.getElementById('infoBox');
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const gameOverBox = document.getElementById('gameOver');
const scoreDisplay = document.getElementById('scoreDisplay');
const playBtn = document.getElementById('playBtn');
const retryBtn = document.getElementById('retryBtn');
const backBtn = document.getElementById('backBtn');
const gameHint = document.getElementById('gameHint');

let snake, food, dx, dy, score, gameRunning, cellSize;

function resizeCanvas() {
    canvas.width = window.innerWidth * 0.8;
    canvas.height = window.innerHeight * 0.7;
    cellSize = Math.floor(canvas.width / 20);
}
window.addEventListener('resize', resizeCanvas);

function initGame() {
    resizeCanvas();
    snake = [{ x: 10, y: 10 }];
    food = { x: 5, y: 5 };
    dx = 1; dy = 0;
    score = 0;
    gameRunning = true;
    loop();
}

function loop() {
    if (!gameRunning) return;
    update();
    draw();
    setTimeout(loop, 120);
}

function update() {
    const head = { x: snake[0].x + dx, y: snake[0].y + dy };
    if (head.x < 0) head.x = Math.floor(canvas.width / cellSize) - 1;
    if (head.y < 0) head.y = Math.floor(canvas.height / cellSize) - 1;
    if (head.x >= Math.floor(canvas.width / cellSize)) head.x = 0;
    if (head.y >= Math.floor(canvas.height / cellSize)) head.y = 0;
    if (head.x === food.x && head.y === food.y) {
        score++;
        food = {
            x: Math.floor(Math.random() * (canvas.width / cellSize)),
            y: Math.floor(Math.random() * (canvas.height / cellSize))
        };
    } else {
        snake.pop();
    }
    snake.unshift(head);
    for (let i = 1; i < snake.length; i++) {
        if (snake[i].x === head.x && snake[i].y === head.y) endGame();
    }
}

function draw() {
    ctx.fillStyle = 'black';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = 'lime';
    snake.forEach(s => ctx.fillRect(s.x * cellSize, s.y * cellSize, cellSize - 1, cellSize - 1));
    ctx.fillStyle = 'red';
    ctx.fillRect(food.x * cellSize, food.y * cellSize, cellSize - 1, cellSize - 1);
    ctx.fillStyle = 'white';
    ctx.font = "16px Arial";
    ctx.fillText("å¾—åˆ†: " + score, 10, 20);
}

function endGame() {
    gameRunning = false;
    canvas.style.display = 'none';
    gameHint.style.display = 'none';
    gameOverBox.style.display = 'block';
    scoreDisplay.textContent = 'æ‚¨çš„å¾—åˆ†ï¼š' + score;
}

document.addEventListener('keydown', e => {
    if (e.key === 'ArrowUp' && dy !== 1) { dx = 0; dy = -1; }
    else if (e.key === 'ArrowDown' && dy !== -1) { dx = 0; dy = 1; }
    else if (e.key === 'ArrowLeft' && dx !== 1) { dx = -1; dy = 0; }
    else if (e.key === 'ArrowRight' && dx !== -1) { dx = 1; dy = 0; }
});

let touchStartX = 0, touchStartY = 0;
canvas.addEventListener('touchstart', e => {
    const t = e.touches[0];
    touchStartX = t.clientX;
    touchStartY = t.clientY;
});
canvas.addEventListener('touchmove', e => {
    if (!touchStartX || !touchStartY) return;
    const t = e.touches[0];
    let dxT = t.clientX - touchStartX;
    let dyT = t.clientY - touchStartY;
    if (Math.abs(dxT) > Math.abs(dyT)) {
        if (dxT > 0 && dx !== -1) { dx = 1; dy = 0; }
        else if (dxT < 0 && dx !== 1) { dx = -1; dy = 0; }
    } else {
        if (dyT > 0 && dy !== -1) { dx = 0; dy = 1; }
        else if (dyT < 0 && dy !== 1) { dx = 0; dy = -1; }
    }
    touchStartX = 0;
    touchStartY = 0;
});

playBtn.addEventListener('click', () => {
    infoBox.style.display = 'none';
    gameOverBox.style.display = 'none';
    canvas.style.display = 'block';
    gameHint.style.display = 'block';
    initGame();
});
retryBtn.addEventListener('click', () => {
    gameOverBox.style.display = 'none';
    canvas.style.display = 'block';
    gameHint.style.display = 'block';
    initGame();
});
backBtn.addEventListener('click', () => {
    gameOverBox.style.display = 'none';
    infoBox.style.display = 'block';
});
</script>
</body>
</html>
